<!DOCTYPE html><html><head><meta charset="UTF-8"><meta content="minimum-scale=1.0, width=device-width" name="viewport"><meta name="description" content=""><title>Foundation - Evolvable APIs</title><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Roboto+Mono"><link rel="stylesheet" href="/vendor/galano/galano.css"><link rel="stylesheet" href="/vendor/icon-12/icon-12.css"><link rel="stylesheet" href="/vendor/icon-16/icon-16.css"><link rel="stylesheet" href="/vendor/senna/senna.css"><link rel="stylesheet" href="/vendor/codemirror/lib/codemirror.css"><link rel="stylesheet" href="/vendor/codemirror/theme/dracula.css"><script src="/js/bundles/shared.electric.js"></script><script src="/vendor/senna/senna.js"></script><script src="/vendor/codemirror/lib/codemirror.js"></script><script src="/vendor/codemirror/mode/css/css.js"></script><script src="/vendor/codemirror/mode/javascript/javascript.js"></script><script src="/vendor/codemirror/mode/xml/xml.js"></script><link rel="stylesheet" href="/styles/main.css"></head><body data-senna=""><div data-senna-surface="" id="wrapper"><div class="senna-loading-bar"></div><div id="pageComponent"><div class="main"><main class="guide"><div class="docs"><nav class="topbar topbar-light topbar-docs"><div class="topbar-logo"><a class="topbar-logo-link" href="/"><span class="topbar-logo-icon icon-16-hammer"></span><h3 class="topbar-logo-text">Evolvable APIs</h3></a></div><nav class="topbar-menu"><button class="topbar-toggle">Menu</button><ul class="topbar-list"><li class="topbar-item"><a class="topbar-link topbar-link-selected" href="/docs/evolvable-rest-api/index.html" target="undefined"><span>Guidelines</span></a></li><li class="topbar-item"><a class="topbar-link " href="/updates/" target="undefined"><span>Updates</span></a></li></ul></nav></nav><div class="ribbon-container"><div class="ribbon ribbon-accent">Beta</div></div><nav class="sidebar"><a class="sidebar-header toggler-header-collapsed"><span class="sidebar-icon icon-16-menu"></span><span>Docs Menu</span><span class="sidebar-icon-right"><span class="icon-12-arrow-down-short"></span><span class="icon-12-arrow-up-short"></span></span></a><div class="sidebar-toggler-content toggler-collapsed"><div class="sidebar-search"><div class="page-autocomplete"><div class="form-group"><div class="input-inner-addon input-inner-addon-right"><input autocomplete="off" class="form-control" name="q" placeholder="Search Docs" ref="input" required="" type="text"><span class="input-inner-icon-helper icon-16-magnifier"></span></div></div></div></div><nav class=""><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item active"><a class="sidebar-link sidebar-link-selected" href="/docs/evolvable-rest-api/"><span class="sidebar-icon icon-16-code-file"></span><span>Evolvable REST API Guidelines</span></a><nav class=""><ul class="sidebar-list sidebar-list-1"><li class="sidebar-item"><a class="sidebar-link " href="/docs/evolvable-rest-api/principles.html"><span class="sidebar-icon icon-16-flash"></span><span>Principles</span></a></li><li class="sidebar-item active"><a class="sidebar-link sidebar-link-selected" href="/docs/evolvable-rest-api/foundation.html"><span class="sidebar-icon icon-16-flash"></span><span>Foundation</span></a></li></ul></nav></li></ul></nav></div></nav><div class="sidebar-offset"><header class="guide-header"><div class="container-hybrid"><h1 class="title">Foundation</h1></div></header><div class="container-hybrid"><div class="docs-guide row"><div class="docs-content col-xs-16 col-md-9"><div class="guide-content"><article id="1"><h2>HTTP Methods</h2><p>Evolvable REST APIs MUST use the HTTP methods strictly according to the semantics are defined by <a href="https://www.w3.org/Protocols/rfc2616/rfc2616.html">RFC 2616</a>.</p><h3>Use HTTP Methods Strictly</h3><p>The following table provides a summary of the key characteristics of the most frequently used HTTP methods:</p><table><thead><tr><th>Method</th><th>Safe</th><th>Idempotent</th><th>Body</th><th>Common usage</th></tr></thead><tbody><tr><td>GET</td><td>X</td><td>X</td><td></td><td>Get the representation of a resource.</td></tr><tr><td>POST</td><td></td><td></td><td>X</td><td>Create a resource / Start an operation.</td></tr><tr><td>PUT</td><td></td><td>X</td><td>X</td><td>Full update of a resource. Can also be used to create a resource when the client defines the identifier (URI).</td></tr><tr><td>DELETE</td><td></td><td>X</td><td></td><td>Delete a resource.</td></tr><tr><td>PATCH</td><td></td><td></td><td>X</td><td>Partial update of a resource.</td></tr><tr><td>OPTIONS</td><td>X</td><td>X</td><td></td><td>Get the methods supported by a resource, through the “Allow” HTTP Header in the response, and optionally more detailed information in the body.</td></tr><tr><td>HEAD</td><td>X</td><td>X</td><td></td><td>Obtain the same behavior as GET but the without the response body. Often used to save bandwidth when the consumer is unsure whether the body will be needed.</td></tr></tbody></table><h3>Leverage Idempotency</h3><p>GET, PUT, HEAD, OPTIONS MUST be treated as idempotent actions.</p><p>API consumers SHOULD leverage idempotency, retrying failed requests using these methods, instead of directly escalating an error.</p></article><article id="2"><h2>Resource Design</h2><h3>Use URIs a resource identifiers</h3><p>Each resource returned by the Evolvable REST API MUST be identified by a unique URI. Some identifiers MAY be also reachable in the form of HTTP URLs, but  not all of them. These identifiers will be included in the response following the rules of the specific format used (e.g. @id attribute in HAL)</p><h3>Consumers must not interpret the URI format</h3><p>Evolvable REST APIs treat URIs as opaque resource identifiers. Because of that the design of the URL format is irrelevant. API developers should not spend time designing URL format and instead follow simple and consistent patterns that are easy to implement.</p><p>URL Templates can be provided to inform the consumers of how to construct URLs for specific purposes.</p><p>Consumer developers should never try to infer the structure of a URL or build URLs via code unless it’s guided by a URL template provided in an API response.</p><p>API designers MAY design URLs taking into consideration guidelines for search engine optimization (SEO). This may be particularly useful when the API is used to build Web Applications and there is a desire for the application and its content to be indexed by search engines.</p><h3>Stable URLs</h3><p>Evolvable REST APIs SHOULD not change URLs that is used as an identifier of a resource. In cases when the URL changes, the old URL MUST still work and respond to a GET operation with a permanent redirect (response code 301) to the new URL.</p><p>URLs used to perform searches, filters, or in general operations that can be repeated using the provided affordances MAY be changed.</p><h3>Limit the length of URIs</h3><p>The HTTP protocol does not place any a priori limit on the length of a URI, however the software that process them do sometimes have limits. In particular some proxies, search engines and browsers are known to be able to handle URI up to a certain number of characters.</p><p>To correctly render in all scenarios, URIs SHOULD be shorter than 2,083 characters.</p><h3>Leverage common resource patterns</h3><p>Evolvable REST APIs are resource oriented, based on defining named resources that can be manipulated using a limited set of predefined methods. In HTTP the resources are identified by unique URIs. Access to resources must always be done in a stateless way.</p><p>The following subsections define the most common type of resource patterns and the guidelines that API developers must follow for each of them.</p><h4>Collection resources</h4><p>A common pattern in resource oriented design is a set of resources that represent a collection and the elements within the collection. Some operations are common in this kind of resources, such as Pagination or Filtering, so all Collection Resources MUST support the same set of operations.</p><p>Collections Resources MUST be named with a plural noun.</p><h4>Single resources</h4><p>Single resources represent an entity exposed by the API, including relationships to other resources. Single resources MAY support all CRUD operations or just some of them.</p><p>Single resources MUST be named with a singular noun.</p><h4>Operation resources</h4><p>Operation Resources are resources whose only purpose is to provide the ability for a consumer to perform an operation. This type of resources only response to one HTTP method: POST.</p><p>API developers SHOULD only use Operation Resources as a last resort, for cases when the other types of resources do not apply. In particular, whenever idempotent behaviour is possible, using PUT is preferred to allow consumers (or intermediaries) to retry in those cases when the response is not received.</p><h4>Long running operations</h4><p>One specific case of Operation Resources are those operations that are run in an asynchronous way. In this operations, the initial POST requests signals the beginning of the task (or the enqueue) and the API will return</p><ul><li><code>202 Accepted</code> if the operation could be enqueued successfully. The operation identifier URL will be included in the payload</li><li><code>302 See other</code> if the operation is already enqueued. The operation identifier URL will be included in the Location header.</li><li><code>409 Conflict</code> if the operation couldn’t be enqueued. The payload will include error details in a standard format (such as problem+json)</li></ul></article><article id="3"><h2>Security</h2><h3>Require Secure Connections</h3><p>Access to APIs SHOULD be provided via TLS/SSL exclusively. Any non-SSL request must be ignored or, when not possible, responded with the <code>403 Forbidden</code>.</p><h3>Support Cross Origin Resources</h3><p>Evolvable REST API’s SHOULD support Cross Origin Resource Sharing (CORS) for AJAX requests from any origin. APIs supporting CORS must follow the <a href="http://www.w3.org/TR/cors/">CORS W3C Recommendation</a>. The <a href="https://code.google.com/archive/p/html5security/wikis/CrossOriginRequestSecurity.wiki">Guide to Secure Implementation of HTML5's Cross Origin Requests</a> is a recommended resource for API developers and consumer developers new to CORS.</p><h3>Authentication and Authorization</h3><p>Evolvable REST APIs MAY have resources protected by authentication and authorization mechanisms. Requests that require authentication MAY return <code>404 Not Found</code>, instead of <code>403 Forbidden</code> for security reasons.</p></article><article id="4"><h2>Versioning</h2><p>Evolvable REST APIs are designed from the ground up for evolvability, avoiding the need for backwards incompatible changes in most scenarios. Introducing a backwards incompatible change could still happen and needs to be accounted for. However, because it won’t happen often APIs MUST not use versioning in any way that complicates development of the consumer. Specifically, Evolvable REST APIs MUST never introduce version numbers or any other version identifier in URLs.</p><p>Evolvable REST API implementations can specify the implementation version as an HTTP header to be used for debugging purposes.</p><h3>Don't break the API contract</h3><h3>Don't include version information in URIs</h3><p>Evolvable REST APIs MUST NOT include version information in the URIs. Doing so would go against using URIs as resource identifiers.</p><p>Evolvable REST APIs MAY provide version information in some other ways, such as HTTP Headers or in the body of the responses for informative or debugging purposes. Evolvable REST API Consumers SHOULD NOT use version information automatically to change its behavior.</p></article><article id="5"><h2>API Profile</h2><p>Evolvable REST APIs MUST provide an API profile that describes the following elements of the API:</p><ul><li><p>Types that might be included in API responses. Each type MUST have:</p><ul><li>A human readable description of the type</li><li>URL identifier of the type (e.g. http://schema.org/Person), which MAY be resolvable to obtain a full description.</li><li>A list of attributes that describe the type. Evolvable REST API developers MAY use attributes defined by schema.org. Each attribute MUST have:<ul><li>A human readable description of the attribute</li><li>URL identifier of the attribute (e.g. http://schema.org/givenName), which MAY be resolvable to obtain a full description.</li></ul></li></ul></li><li><p>Hypermedia controls that might be included in API responses. APIs SHOULD use standard link relation names as defined by IANA Link Relations. APIs MAY use custom link relation names for needs not covered by existing standards.</p><ul><li>Hypermedia controls can be of two types:<ul><li>Links: Using URLs as defined by RFC3986</li><li>URI Templates as defined by RFC6570</li></ul></li><li>The profile should specify, for each Hypermedia control, whether it represents a “safe” (e.g. GET, HEAD), an “idempotent” (e.g. PUT, DELETE) or an “unsafe” (e.g. POST) operation.</li></ul></li></ul><p>The API Profile SHOULD be published using the Application-Level Profile Semantics (ALPS) format. Additional API profile formats MAY also be used.</p><p>A link to the profile must be provided in the response to the root endpoint using the “profile” link relation.</p><p>The API Profile MUST act as a complete contract for the API. No additional documentation should be necessary to build consumers of the API.</p><p></p></article><input type="hidden" value="Foundation"><input type="hidden" value="Evolvable APIs"></div><div class="contribute"><div class="contribute-img"><span class="icon-16-github"></span></div><div class="contribute-text"><p>Contribute on Github! <a href="https://github.com/liferay/evolvable-apis.org/tree/master/src/pages/docs/evolvable-rest-api/foundation.md" class="contribute-link" target="_blank">Edit this section</a>.</p></div></div></div><nav class="col-xs-16 col-md-offset-2 col-md-5"><div class="docs-nav-container"><div class="affix-top docs-nav"><div ref="readingContainer"></div></div></div></nav></div></div></div></div></main></div></div><script src="/js/bundles/aRxgO.js"></script><script>var data = '{"pageLocation":"index.children.docs.children.evolvable-rest-api.children.foundation","site":{"title":"Evolvable APIs","githubRepo":"liferay/evolvable-apis.org","googleAnalytics":"UA-37033501-12","index":{"title":"Home","description":"Embrace rapid evolution without breaking consumers.","srcFilePath":"src/pages/index.soy","id":"pages","location":"/./","url":"/./","children":{"docs":{"title":"Guidelines","url":"/docs/evolvable-rest-api/index.html","layout":false,"srcFilePath":"src/pages/docs/index.soy","id":"docs","location":"/docs/","customURL":true,"children":{"search":{"description":"Documentation search results.","hidden":true,"title":"Search","srcFilePath":"src/pages/docs/search.soy","id":"search","location":"/docs/search.html","url":"/docs/search.html"},"evolvable-rest-api":{"children":{"foundation":{"title":"Foundation","description":"","layout":"guide","icon":"flash","weight":3,"srcFilePath":"src/pages/docs/evolvable-rest-api/foundation.md","id":"foundation","location":"/docs/evolvable-rest-api/foundation.html","url":"/docs/evolvable-rest-api/foundation.html","active":true},"principles":{"title":"Principles","description":"Web APIs are a key enabler of the ability to offer consistent experiences across every channel. This is achieved by facilitating the reuse of a common core of data and business logic from a wide variety of devices, including mobile phones, watches, IoT devices, etc. Web APIs are also a fundamental piece in the construction of microservice architectures, allowing for efficient communication of independent microservices while maintaining loose coupling.","layout":"guide","icon":"flash","weight":2,"srcFilePath":"src/pages/docs/evolvable-rest-api/principles.md","id":"principles","location":"/docs/evolvable-rest-api/principles.html","url":"/docs/evolvable-rest-api/principles.html"}},"title":"Evolvable REST API Guidelines","description":"The Evolvable REST API Guidelines provide a well defined set of mandatory and recommended rules for REST APIs designed to achieve a high degree of decoupling of API providers and all of its consumers. This decoupling allows the API to evolve over time without breaking any of the consumers.","layout":"guide","icon":"code-file","weight":1,"srcFilePath":"src/pages/docs/evolvable-rest-api/index.md","id":"evolvable-rest-api","location":"/docs/evolvable-rest-api/","url":"/docs/evolvable-rest-api/","childIds":["principles","foundation"],"active":true}},"childIds":["evolvable-rest-api","search"],"active":true},"updates":{"title":"Updates","description":"Check out what\'s new","updates":[{"version":"0.0.2","major":true,"features":[{"icon":"flash","title":"Added main information on landing page","description":"First version of the landing page with more info on the main concepts and why Evolvable APIs are needed."},{"icon":"code-file","title":"First draft of the Guidelines","description":"The Guidelines are a set of good practices and advice on what we should take into account in order to make our REST APIs evolvable."}]},{"version":"0.0.1","major":true,"features":[{"icon":"hammer","title":"Very first version of evolvable-apis.org","description":"This version is targeted to very early adopters. API Developers who believe there has to be a better way to do APIs so that they an evolve seamlessly over the years. And who want to participate and make it a reality."}]}],"srcFilePath":"src/pages/updates/index.soy","id":"updates","location":"/updates/","url":"/updates/"}},"childIds":["docs","updates"]},"basePath":"","topbar":[{"href":"/docs/evolvable-rest-api/index.html","label":"Guidelines","selected":true},{"href":"/updates/","label":"Updates"}]}}'; if (typeof electric !== 'undefined') {electric.init(data);}else {document.addEventListener('DOMContentLoaded', function() {electric.init(data);});}</script></div><script data-senna-track="permanent" src="/js/electric/electric.js"></script></body></html>